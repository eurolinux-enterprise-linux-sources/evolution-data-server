<?xml version="1.0"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" 
               "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">
<refentry id="ECalBackendSExp">
<refmeta>
<refentrytitle role="top_of_page" id="ECalBackendSExp.top_of_page">ECalBackendSExp</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo>
  LIBEDATA-CAL Library
</refmiscinfo>
</refmeta>
<refnamediv>
<refname>ECalBackendSExp</refname>
<refpurpose>Regular expressions for calendar searches.</refpurpose>
</refnamediv>

<refsynopsisdiv id="ECalBackendSExp.synopsis" role="synopsis">
<title role="synopsis.title">Synopsis</title>

<synopsis><link linkend="ECalBackendSExp"><returnvalue>ECalBackendSExp</returnvalue></link> *   <link linkend="e-cal-backend-sexp-new">e_cal_backend_sexp_new</link>              (<parameter>const <link linkend="gchar"><type>gchar</type></link> *text</parameter>);
const <link linkend="gchar"><returnvalue>gchar</returnvalue></link> *       <link linkend="e-cal-backend-sexp-text">e_cal_backend_sexp_text</link>             (<parameter><link linkend="ECalBackendSExp"><type>ECalBackendSExp</type></link> *sexp</parameter>);
<link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>            <link linkend="e-cal-backend-sexp-match-object">e_cal_backend_sexp_match_object</link>     (<parameter><link linkend="ECalBackendSExp"><type>ECalBackendSExp</type></link> *sexp</parameter>,
                                                         <parameter>const <link linkend="gchar"><type>gchar</type></link> *object</parameter>,
                                                         <parameter><link linkend="ECalBackend"><type>ECalBackend</type></link> *backend</parameter>);
<link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>            <link linkend="e-cal-backend-sexp-match-comp">e_cal_backend_sexp_match_comp</link>       (<parameter><link linkend="ECalBackendSExp"><type>ECalBackendSExp</type></link> *sexp</parameter>,
                                                         <parameter><link linkend="ECalComponent"><type>ECalComponent</type></link> *comp</parameter>,
                                                         <parameter><link linkend="ECalBackend"><type>ECalBackend</type></link> *backend</parameter>);
<link linkend="ESExpResult"><returnvalue>ESExpResult</returnvalue></link> *       <link linkend="e-cal-backend-sexp-func-time-now">e_cal_backend_sexp_func_time_now</link>    (<parameter><link linkend="ESExp"><type>ESExp</type></link> *esexp</parameter>,
                                                         <parameter><link linkend="gint"><type>gint</type></link> argc</parameter>,
                                                         <parameter><link linkend="ESExpResult"><type>ESExpResult</type></link> **argv</parameter>,
                                                         <parameter><link linkend="gpointer"><type>gpointer</type></link> data</parameter>);
<link linkend="ESExpResult"><returnvalue>ESExpResult</returnvalue></link> *       <link linkend="e-cal-backend-sexp-func-make-time">e_cal_backend_sexp_func_make_time</link>   (<parameter><link linkend="ESExp"><type>ESExp</type></link> *esexp</parameter>,
                                                         <parameter><link linkend="gint"><type>gint</type></link> argc</parameter>,
                                                         <parameter><link linkend="ESExpResult"><type>ESExpResult</type></link> **argv</parameter>,
                                                         <parameter><link linkend="gpointer"><type>gpointer</type></link> data</parameter>);
<link linkend="ESExpResult"><returnvalue>ESExpResult</returnvalue></link> *       <link linkend="e-cal-backend-sexp-func-time-add-day">e_cal_backend_sexp_func_time_add_day</link>
                                                        (<parameter><link linkend="ESExp"><type>ESExp</type></link> *esexp</parameter>,
                                                         <parameter><link linkend="gint"><type>gint</type></link> argc</parameter>,
                                                         <parameter><link linkend="ESExpResult"><type>ESExpResult</type></link> **argv</parameter>,
                                                         <parameter><link linkend="gpointer"><type>gpointer</type></link> data</parameter>);
<link linkend="ESExpResult"><returnvalue>ESExpResult</returnvalue></link> *       <link linkend="e-cal-backend-sexp-func-time-day-begin">e_cal_backend_sexp_func_time_day_begin</link>
                                                        (<parameter><link linkend="ESExp"><type>ESExp</type></link> *esexp</parameter>,
                                                         <parameter><link linkend="gint"><type>gint</type></link> argc</parameter>,
                                                         <parameter><link linkend="ESExpResult"><type>ESExpResult</type></link> **argv</parameter>,
                                                         <parameter><link linkend="gpointer"><type>gpointer</type></link> data</parameter>);
<link linkend="ESExpResult"><returnvalue>ESExpResult</returnvalue></link> *       <link linkend="e-cal-backend-sexp-func-time-day-end">e_cal_backend_sexp_func_time_day_end</link>
                                                        (<parameter><link linkend="ESExp"><type>ESExp</type></link> *esexp</parameter>,
                                                         <parameter><link linkend="gint"><type>gint</type></link> argc</parameter>,
                                                         <parameter><link linkend="ESExpResult"><type>ESExpResult</type></link> **argv</parameter>,
                                                         <parameter><link linkend="gpointer"><type>gpointer</type></link> data</parameter>);
</synopsis>
</refsynopsisdiv>

<refsect1 id="ECalBackendSExp.description" role="desc">
<title role="desc.title">Description</title>
<para>
</para>
</refsect1>
<refsect1 id="ECalBackendSExp.details" role="details">
<title role="details.title">Details</title>
<refsect2 id="e-cal-backend-sexp-new" role="function">
<title>e_cal_backend_sexp_new ()</title>
<indexterm zone="e-cal-backend-sexp-new"><primary>e_cal_backend_sexp_new</primary></indexterm>
<programlisting><link linkend="ECalBackendSExp"><returnvalue>ECalBackendSExp</returnvalue></link> *   e_cal_backend_sexp_new              (<parameter>const <link linkend="gchar"><type>gchar</type></link> *text</parameter>);</programlisting>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>text</parameter>&#160;:</term>
<listitem><simpara>
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara>
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="e-cal-backend-sexp-text" role="function">
<title>e_cal_backend_sexp_text ()</title>
<indexterm zone="e-cal-backend-sexp-text"><primary>e_cal_backend_sexp_text</primary></indexterm>
<programlisting>const <link linkend="gchar"><returnvalue>gchar</returnvalue></link> *       e_cal_backend_sexp_text             (<parameter><link linkend="ECalBackendSExp"><type>ECalBackendSExp</type></link> *sexp</parameter>);</programlisting>
<para>
Retrieve the text expression for the given ECalBackendSExp object.</para>
<variablelist role="params">
<varlistentry><term><parameter>sexp</parameter>&#160;:</term>
<listitem><simpara>An <link linkend="ECalBackendSExp"><type>ECalBackendSExp</type></link> object.
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> The text expression.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="e-cal-backend-sexp-match-object" role="function">
<title>e_cal_backend_sexp_match_object ()</title>
<indexterm zone="e-cal-backend-sexp-match-object"><primary>e_cal_backend_sexp_match_object</primary></indexterm>
<programlisting><link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>            e_cal_backend_sexp_match_object     (<parameter><link linkend="ECalBackendSExp"><type>ECalBackendSExp</type></link> *sexp</parameter>,
                                                         <parameter>const <link linkend="gchar"><type>gchar</type></link> *object</parameter>,
                                                         <parameter><link linkend="ECalBackend"><type>ECalBackend</type></link> *backend</parameter>);</programlisting>
<para>
Match an iCalendar expression against the expression.</para>
<variablelist role="params">
<varlistentry><term><parameter>sexp</parameter>&#160;:</term>
<listitem><simpara>An <link linkend="ESExp"><type>ESExp</type></link> object.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>object</parameter>&#160;:</term>
<listitem><simpara>An iCalendar string.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>backend</parameter>&#160;:</term>
<listitem><simpara>A backend.
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> TRUE if the object matches the expression, FALSE if not.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="e-cal-backend-sexp-match-comp" role="function">
<title>e_cal_backend_sexp_match_comp ()</title>
<indexterm zone="e-cal-backend-sexp-match-comp"><primary>e_cal_backend_sexp_match_comp</primary></indexterm>
<programlisting><link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>            e_cal_backend_sexp_match_comp       (<parameter><link linkend="ECalBackendSExp"><type>ECalBackendSExp</type></link> *sexp</parameter>,
                                                         <parameter><link linkend="ECalComponent"><type>ECalComponent</type></link> *comp</parameter>,
                                                         <parameter><link linkend="ECalBackend"><type>ECalBackend</type></link> *backend</parameter>);</programlisting>
<para>
Matches the given ECalComponent against the expression.</para>
<variablelist role="params">
<varlistentry><term><parameter>sexp</parameter>&#160;:</term>
<listitem><simpara>An <link linkend="ESExp"><type>ESExp</type></link> object.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>comp</parameter>&#160;:</term>
<listitem><simpara>Component to match against the expression.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>backend</parameter>&#160;:</term>
<listitem><simpara>Backend.
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> TRUE if the component matched the expression, FALSE if not.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="e-cal-backend-sexp-func-time-now" role="function">
<title>e_cal_backend_sexp_func_time_now ()</title>
<indexterm zone="e-cal-backend-sexp-func-time-now"><primary>e_cal_backend_sexp_func_time_now</primary></indexterm>
<programlisting><link linkend="ESExpResult"><returnvalue>ESExpResult</returnvalue></link> *       e_cal_backend_sexp_func_time_now    (<parameter><link linkend="ESExp"><type>ESExp</type></link> *esexp</parameter>,
                                                         <parameter><link linkend="gint"><type>gint</type></link> argc</parameter>,
                                                         <parameter><link linkend="ESExpResult"><type>ESExpResult</type></link> **argv</parameter>,
                                                         <parameter><link linkend="gpointer"><type>gpointer</type></link> data</parameter>);</programlisting>
<para>
Processes the (time-now) sexp expression.</para>
<variablelist role="params">
<varlistentry><term><parameter>esexp</parameter>&#160;:</term>
<listitem><simpara>An <link linkend="ESExp"><type>ESExp</type></link> object.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>argc</parameter>&#160;:</term>
<listitem><simpara>Number of arguments.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>argv</parameter>&#160;:</term>
<listitem><simpara>The arguments.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>data</parameter>&#160;:</term>
<listitem><simpara>Closure data.
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> The result of the function.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="e-cal-backend-sexp-func-make-time" role="function">
<title>e_cal_backend_sexp_func_make_time ()</title>
<indexterm zone="e-cal-backend-sexp-func-make-time"><primary>e_cal_backend_sexp_func_make_time</primary></indexterm>
<programlisting><link linkend="ESExpResult"><returnvalue>ESExpResult</returnvalue></link> *       e_cal_backend_sexp_func_make_time   (<parameter><link linkend="ESExp"><type>ESExp</type></link> *esexp</parameter>,
                                                         <parameter><link linkend="gint"><type>gint</type></link> argc</parameter>,
                                                         <parameter><link linkend="ESExpResult"><type>ESExpResult</type></link> **argv</parameter>,
                                                         <parameter><link linkend="gpointer"><type>gpointer</type></link> data</parameter>);</programlisting>
<para>
(make-time ISODATE)
ISODATE - string, ISO 8601 date/time representation
</para>
<para>
Constructs a time_t value for the specified date.</para>
<variablelist role="params">
<varlistentry><term><parameter>esexp</parameter>&#160;:</term>
<listitem><simpara>An <link linkend="ESExp"><type>ESExp</type></link> object.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>argc</parameter>&#160;:</term>
<listitem><simpara>Number of arguments.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>argv</parameter>&#160;:</term>
<listitem><simpara>The arguments.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>data</parameter>&#160;:</term>
<listitem><simpara>Closure data.
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> The result of the function.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="e-cal-backend-sexp-func-time-add-day" role="function">
<title>e_cal_backend_sexp_func_time_add_day ()</title>
<indexterm zone="e-cal-backend-sexp-func-time-add-day"><primary>e_cal_backend_sexp_func_time_add_day</primary></indexterm>
<programlisting><link linkend="ESExpResult"><returnvalue>ESExpResult</returnvalue></link> *       e_cal_backend_sexp_func_time_add_day
                                                        (<parameter><link linkend="ESExp"><type>ESExp</type></link> *esexp</parameter>,
                                                         <parameter><link linkend="gint"><type>gint</type></link> argc</parameter>,
                                                         <parameter><link linkend="ESExpResult"><type>ESExpResult</type></link> **argv</parameter>,
                                                         <parameter><link linkend="gpointer"><type>gpointer</type></link> data</parameter>);</programlisting>
<para>
(time-add-day TIME N)
TIME - time_t, base time
N - int, number of days to add
</para>
<para>
Adds the specified number of days to a time value.
</para>
<para>
FIXME: TIMEZONES - need to use a timezone or daylight saving changes will
make the result incorrect.</para>
<variablelist role="params">
<varlistentry><term><parameter>esexp</parameter>&#160;:</term>
<listitem><simpara>An <link linkend="ESExp"><type>ESExp</type></link> object.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>argc</parameter>&#160;:</term>
<listitem><simpara>Number of arguments.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>argv</parameter>&#160;:</term>
<listitem><simpara>The arguments.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>data</parameter>&#160;:</term>
<listitem><simpara>Closure data.
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> The result of the function.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="e-cal-backend-sexp-func-time-day-begin" role="function">
<title>e_cal_backend_sexp_func_time_day_begin ()</title>
<indexterm zone="e-cal-backend-sexp-func-time-day-begin"><primary>e_cal_backend_sexp_func_time_day_begin</primary></indexterm>
<programlisting><link linkend="ESExpResult"><returnvalue>ESExpResult</returnvalue></link> *       e_cal_backend_sexp_func_time_day_begin
                                                        (<parameter><link linkend="ESExp"><type>ESExp</type></link> *esexp</parameter>,
                                                         <parameter><link linkend="gint"><type>gint</type></link> argc</parameter>,
                                                         <parameter><link linkend="ESExpResult"><type>ESExpResult</type></link> **argv</parameter>,
                                                         <parameter><link linkend="gpointer"><type>gpointer</type></link> data</parameter>);</programlisting>
<para>
(time-day-begin TIME)
TIME - time_t, base time
</para>
<para>
Returns the start of the day, according to the local time.
</para>
<para>
FIXME: TIMEZONES - this uses the current Unix timezone.</para>
<variablelist role="params">
<varlistentry><term><parameter>esexp</parameter>&#160;:</term>
<listitem><simpara>An <link linkend="ESExp"><type>ESExp</type></link> object.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>argc</parameter>&#160;:</term>
<listitem><simpara>Number of arguments.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>argv</parameter>&#160;:</term>
<listitem><simpara>The arguments.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>data</parameter>&#160;:</term>
<listitem><simpara>Closure data.
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> The result of the function.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="e-cal-backend-sexp-func-time-day-end" role="function">
<title>e_cal_backend_sexp_func_time_day_end ()</title>
<indexterm zone="e-cal-backend-sexp-func-time-day-end"><primary>e_cal_backend_sexp_func_time_day_end</primary></indexterm>
<programlisting><link linkend="ESExpResult"><returnvalue>ESExpResult</returnvalue></link> *       e_cal_backend_sexp_func_time_day_end
                                                        (<parameter><link linkend="ESExp"><type>ESExp</type></link> *esexp</parameter>,
                                                         <parameter><link linkend="gint"><type>gint</type></link> argc</parameter>,
                                                         <parameter><link linkend="ESExpResult"><type>ESExpResult</type></link> **argv</parameter>,
                                                         <parameter><link linkend="gpointer"><type>gpointer</type></link> data</parameter>);</programlisting>
<para>
(time-day-end TIME)
TIME - time_t, base time
</para>
<para>
Returns the end of the day, according to the local time.
</para>
<para>
FIXME: TIMEZONES - this uses the current Unix timezone.</para>
<variablelist role="params">
<varlistentry><term><parameter>esexp</parameter>&#160;:</term>
<listitem><simpara>An <link linkend="ESExp"><type>ESExp</type></link> object.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>argc</parameter>&#160;:</term>
<listitem><simpara>Number of arguments.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>argv</parameter>&#160;:</term>
<listitem><simpara>The arguments.
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>data</parameter>&#160;:</term>
<listitem><simpara>Closure data.
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> The result of the function.
</simpara></listitem></varlistentry>
</variablelist></refsect2>

</refsect1>

</refentry>
